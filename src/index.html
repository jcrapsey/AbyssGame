<html>
<head>
	<title>Abyss on Playcraft</title>
	<style type="text/css">
		body {
			background-color:#333;
		}
		canvas {
			background-color:#FFF;
		}
		#gameWrapper {
			position:absolute;
			top:0;bottom:0;right:0;left:0;
		}
	</style>
</head>
<body>
	<div id="gameWrapper">
		<div id="canvasWrapper">
			<canvas id="gameCanvas"></canvas>
		</div>
		<!-- leave 20% at the bottom for the debugging graphs -->
		<div style='position:absolute;left:0;right:0;bottom:0;height:200px;'>
			<!-- the id pcDebug is the default the engine looks for -->
			<canvas id="pcDebug"></canvas>
		</div>
	</div>
	<script type="text/javascript" src="scripts/gamecore.js"></script>
	<script type="text/javascript" src="scripts/playcraft.js"></script>
	<script type="text/javascript">
	(function(){
		var scaledView = document.getElementById('gameCanvas');
		var scaledCtx = scaledView.getContext('2d');
		var curWidth = 0;
		var curHeight = 0;
		var curScale = 0;

		pc.start(null, 'Abyss', 'scripts/', ['game.js']);
		pc.device.scale = 2;

		(function tik(){
			if(pc.device.canvas){
				if(curWidth !== pc.device.canvas.width || curHeight !== pc.device.canvas.height || curScale !== pc.device.scale)
				{
					curWidth = pc.device.canvas.width;
					curHeight = pc.device.canvas.height;
					curScale = pc.device.scale;
					scaledView.width = curWidth * pc.device.scale;
					scaledView.height = curHeight * pc.device.scale;
					scaledCtx.scale(pc.device.scale, pc.device.scale);
					scaledCtx.imageSmoothingEnabled = false;
				}
				scaledCtx.clearRect(0, 0, scaledView.width, scaledView.height);
				scaledCtx.drawImage(pc.device.canvas, 0, 0);
			}
			requestAnimationFrame(tik);
		}());
	}());
	</script>
</body>
</html>